<div class="flex-container" id="view-mod">
  <div id="view-mod-left">
    <h1><%= @mod.title %></h1>

    <% if @mod.images.attached? %>
      <div id="mod-carousel" class="carousel slide">
        <ol class="carousel-indicators">
          <% @mod.images.each_with_index do |image, index| %>
            <li data-target="#mod-carousel" data-slide-to="<%= index %>" class="<%= 'active' if index == 0 %>"></li>
          <% end %>
        </ol>
        <div class="carousel-inner">
          <% @mod.images.each_with_index do |image, index| %>
            <div class="carousel-item <%= 'active' if index == 0 %>">
              <%= image_tag image.variant(:large) %>
            </div>
          <% end %>
        </div>
        <a class="carousel-control-prev" href="#mod-carousel" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#mod-carousel" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
    <% end %>

    <p>Tags:
      <% @mod.tags.each do |tag| %>
        <bx-tag>
          <bx-link href="<%= mod_tag_path(tag) %>"><%= tag %></bx-link>
        </bx-tag>
      <% end %>
    </p>

    <p>Author:
      <bx-link href="<%= user_path(@mod.user) %>"><%= @mod.user.username %></bx-link>
    </p>

    <p>Published: <%= localize(@mod.created_at, format: :long) %></p>

    <p>Last Updated: <%= localize(@mod.updated_at, format: :long) %></p>

    <p><%= @mod.description %></p>

    <p>
      <bx-link href="javascript:history.back()">Back</bx-link>
    </p>
  </div>

  <div class="flex-container" id="view-mod-right">
    <div>
      <bx-btn href="<%= @mod.download_url %>">Download</bx-btn>
    </div>
    <% if (current_user.present? && current_user.id == @mod.user_id) %>
      <div>
        <bx-btn href="<%= edit_mod_path(@mod) %>" kind="secondary">Edit Mod</bx-btn>
      </div>
    <% end %>

  </div>
</div>

